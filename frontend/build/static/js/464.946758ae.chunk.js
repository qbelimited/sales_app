"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[464],{3464:(e,n,t)=>{t.r(n),t.d(n,{default:()=>d});var r=t(5043),a=t(7417),s=t(4282),i=t(5751),l=t(3814),o=t(9621),c=t(579);const d=e=>{let{showToast:n}=e;const[t,d]=(0,r.useState)(null),[y,h]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[x,j]=(0,r.useState)(!1),[g,A]=(0,r.useState)(""),f=(0,r.useCallback)((async()=>{h(!0),p(null);try{const e=await o.A.get("/retention/");d(e.data),A(e.data.retention_days||"")}catch(u){console.error("Error fetching retention policy:",u),p("Failed to fetch retention policy. Please try again later."),n("danger","Failed to fetch retention policy. Please try again later.","Error")}finally{h(!1)}}),[n]);(0,r.useEffect)((()=>{f()}),[f]);return y?(0,c.jsx)(a.A,{animation:"border"}):(0,c.jsxs)("div",{style:{marginTop:"20px",padding:"20px"},children:[(0,c.jsx)("h2",{children:"Data Retention Policy"}),u&&(0,c.jsx)("p",{className:"text-danger",children:u}),t&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Retention Days:"})," ",t.retention_days," days"]}),(0,c.jsx)(s.A,{variant:"primary",onClick:()=>j(!0),children:"Update Retention Policy"})]}),(0,c.jsxs)(i.A,{show:x,onHide:()=>j(!1),children:[(0,c.jsx)(i.A.Header,{closeButton:!0,children:(0,c.jsx)(i.A.Title,{children:"Update Retention Policy"})}),(0,c.jsx)(i.A.Body,{children:(0,c.jsx)(l.A,{children:(0,c.jsxs)(l.A.Group,{children:[(0,c.jsx)(l.A.Label,{children:"Retention Days"}),(0,c.jsx)(l.A.Control,{type:"number",value:g,onChange:e=>A(e.target.value||""),placeholder:"Enter retention days"})]})})}),(0,c.jsxs)(i.A.Footer,{children:[(0,c.jsx)(s.A,{variant:"secondary",onClick:()=>j(!1),children:"Close"}),(0,c.jsx)(s.A,{variant:"primary",onClick:async()=>{if(isNaN(g)||g<0)n("warning","Please enter a valid number for retention days.","Warning");else try{await o.A.put("/retention/",{retention_days:parseInt(g,10)}),n("success","Retention policy updated successfully!","Success"),f(),j(!1)}catch(u){console.error("Error updating retention policy:",u),n("danger","Failed to update retention policy. Please try again.","Error")}},children:"Save Changes"})]})]})]})}}}]);
//# sourceMappingURL=464.946758ae.chunk.js.map